# Sample environment configuration for Ground Truth Curator (backend)
#
# This file is safe to commit. Put real secrets and machine-specific overrides in:
#   - environments/local.env (git-ignored)
#   - environments/development.local.env (git-ignored)
#
# The backend loads this file by default.

# --- Runtime ---
GTC_ENV=dev
GTC_API_PREFIX=/v1
GTC_LOG_LEVEL=info

# --- Auth ---
# dev: trust X-User-Id header (local/dev only)
# entra: placeholder (not fully implemented)
GTC_AUTH_MODE=dev

# --- Repository backend ---
GTC_REPO_BACKEND=cosmos

# --- Cosmos DB (local emulator defaults) ---
GTC_COSMOS_ENDPOINT=http://localhost:8081
# Publicly known Cosmos Emulator key. Do not use this for real Azure accounts.
GTC_COSMOS_KEY=C2y6yDjf5/R+ob0N8A7Cgv30VRDjEWEhLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==

GTC_COSMOS_DB_NAME=gt-curator
GTC_COSMOS_CONTAINER_GT=ground_truth
GTC_COSMOS_CONTAINER_ASSIGNMENTS=assignments
GTC_COSMOS_CONTAINER_TAGS=tags
GTC_USE_COSMOS_EMULATOR=true
GTC_COSMOS_CONNECTION_VERIFY=false

# Workaround for Cosmos Emulator Unicode escape bug
GTC_COSMOS_DISABLE_UNICODE_ESCAPE=true

# Integration tests set up per-test DBs; keep default off for regular runs
GTC_COSMOS_TEST_MODE=false

# --- Optional: Azure AI Search (leave unset by default) ---
# GTC_AZ_SEARCH_ENDPOINT=https://<your-search>.search.windows.net
# GTC_AZ_SEARCH_INDEX=<your-index>
# GTC_AZ_SEARCH_API_VERSION=2024-07-01
# Dev-only (prefer DefaultAzureCredential in real deployments)
# GTC_AZ_SEARCH_KEY=<your-search-admin-or-query-key>

# --- Optional: Telemetry (Azure Monitor / App Insights) ---
# Keep disabled in the committed sample. Enable in local.env if needed.
GTC_AZ_MONITOR_ENABLED=false
# GTC_AZ_MONITOR_CONNECTION_STRING=InstrumentationKey=...;IngestionEndpoint=...
# Or use the standard Azure var name:
# APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=...;IngestionEndpoint=...

# --- Optional: Azure Container Apps Easy Auth ---
GTC_EZAUTH_ENABLED=false
GTC_EZAUTH_ALLOW_ANONYMOUS_PATHS=/healthz,/metrics
# GTC_EZAUTH_ALLOWED_EMAIL_DOMAINS=example.com
# GTC_EZAUTH_ALLOWED_OBJECT_IDS=00000000-0000-0000-0000-000000000000
GTC_EZAUTH_HEADER_SOURCE=aca

# --- Optional: Agent chat / retrieval ---
# Disable by default so local runs do not require Foundry/retrieval configuration.
GTC_CHAT_ENABLED=false
# GTC_AZURE_AI_PROJECT_ENDPOINT=https://<your-ai-services>.services.ai.azure.com/api/projects/<project>
# GTC_AZURE_AI_AGENT_ID=<agent-id>
# GTC_RETRIEVAL_URL=https://<your-retrieval-service>/api/retrieve-default
# GTC_RETRIEVAL_PERMISSIONS_SCOPE=api://<app-id>/.default
