

# =============================================================================
# Cosmos DB Export/Import Configuration
# =============================================================================
#
# This file configures the cosmos_export_import.py script for migrating data
# between Azure Cosmos DB instances with hierarchical partition keys.
#
# USAGE:
#   1. Update the connection strings and credentials below
#   2. Configure batch sizes and policies as needed
#   3. Run: python cosmos_export_import.py
#
# COMMON SCENARIOS:
#   - Cloud to Local Emulator: Use cloud URI/key for SRC, localhost for DST
#   - Local to Cloud: Use localhost for SRC, cloud URI/key for DST
#   - Cloud to Cloud: Use different cloud accounts for SRC and DST
#
# SAFETY:
#   - Always test with DRY_RUN=true first to validate data
#   - Start with small IMPORT_BATCH_SIZE to avoid throttling
#   - Monitor RU consumption on target container
#
# =============================================================================

# Source (export)
SRC_ACCOUNT_URI=https://<source-account>.documents.azure.com:443/
SRC_DATABASE=<source-database>
SRC_CONTAINER=<source-container>

# Target (import)
# If using a Azure Cosmos as target, set the URI below
# DST_ACCOUNT_URI=https://<target-account>.documents.azure.com:443/
DST_ACCOUNT_URI=http://localhost:8081
DST_DATABASE=<target-database>
DST_CONTAINER=<target-container>
# Publicly known emulator key
DST_EMULATOR_KEY=C2y6yDjf5/R+ob0N8A7Cgv30VRDjEWEhLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==

# Hierarchical PK paths (same on source and target)
# Exmple: DST_PARTITION_KEY_PATHS=["/datasetName","/bucket"]
DST_PARTITION_KEY_PATHS=<hierarchical-partition-key-paths>

# Tuning (1500 items â†’ small batches are fine)
OUTPUT_DIR=./cosmos_export
EXPORT_PAGE_SIZE=500
IMPORT_BATCH_SIZE=200
BULK_MODE=true

# Optional validation-only mode (no writes)
# Setting to true will skip the import step, therefore exporting only to json files
DRY_RUN=false

# Policy for missing PK components (shouldn't happen if your data is clean)
MISSING_PK_POLICY=error   # error | skip | default
DEFAULT_PK_VALUES=["UNKNOWN","DEFAULT_BUCKET"]  # used only if MISSING_PK_POLICY=default
